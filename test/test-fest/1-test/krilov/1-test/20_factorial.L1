; A function that computes the factorial of a number
((
  ; Find 7!
  (rax <- 1)
  (rbx <- 7)
  (call :fac)
  
  ; Encode result for printing
  (rax *= 2)
  (rax += 1)
  (rax <- (print rax))
  )
 (:fac
   (cjump rbx <= 1 :done :recur)
   :recur
   (rax *= rbx)
   (rbx -= 1)
   (tail-call :fac)
   :done
   (return))
)
